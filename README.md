# weather_pi 树莓派天气预报与图片播报系统
## 材料与文件清单
1. 材料
树莓派3B、微雪电子3.52寸墨水屏
2. 素材库  ``icons_bmp/``
3. 图片库  ``picture/``     
> 图片库由于隐私原因暂未公开，名称格式：1.bmp 2.bmp ...
> 图片可以由picture2bmp程序得到，注意修改需要转化的图片目录
4. 微雪墨水屏驱动程序 ``epd3in52.py --未上传``
5. 城市名称对应ID ``city_id.json``
6. 目标城市名称 ``city_name.json``
7. 离线ip库 ``GeoLite2-City.mmdb``
8. 图片转为bmp位图 ``picture2bmp.py``

## 思路
使用 ``request`` 库获取到指定城市的天气网站，获取当天天气以及具体八个时间段、白天夜晚的天气与温度数据、日出日落时间

每隔一分钟刷新整个页面，用以随机更新图片

## 示例图片
![](./img/1.png)
![](./img/2.png)
![](./img/3.png)

## 使用
需要更改 ``city_name.json`` 文件的内容为目标城市   
```json
"杭州"
```
若城市在 ``city_id.json`` 中存在，则应该是正常的，为空则会根据ip查找（有可能查找不到），若查找不到或是 ``city_name.json`` 格式不正确、城市名称不存在会默认初始化为 ``无锡市``